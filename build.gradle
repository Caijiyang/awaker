// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {

  ext.versions = [
          'compileSdk'      : 27,
          'minSdk'          : 21,
          'targetSdk'       : 27,
          'constraintLayout': '1.1.2',
          'supportLibrary'  : '27.1.1',
          'multidex'  : '1.0.3',
          'lifecycle'  : '1.1.1',
          'room'  : '1.1.1',
          'glide'           : '4.7.1',
          'rxjava2'         : '2.1.13',
          'rxandroid'       : '2.0.1',
          'retrofit'        : '2.4.0',
          'utilcode'        : '1.17.2',
          'kotlin'          : '1.2.51',
  ]

  repositories {
    google()
    jcenter()
    maven {
      url 'https://maven.google.com/'
      name 'Google'
    }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:3.2.1'
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"

    // NOTE: Do not place your application dependencies here; they belong
    // in the individual module build.gradle files
  }
}

allprojects {
  repositories {
    google()
    jcenter()
    maven { url "https://jitpack.io" }
    maven {
      url 'https://maven.google.com/'
      name 'Google'
    }
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}

ext {
  // Sdk and tools
  minSdkVersion = 21
  targetSdkVersion = 26
  compileSdkVersion = 27
  supportLibraryVersion = '27.1.1'

  keyAlias = 'awaker'
  keyPassword = 'awaker333333'
  storePassword = 'awaker333'

  // query git for the SHA, Tag and commit count. Use these to automate versioning.
  gitSha = 'git rev-parse --short HEAD'.execute([], project.rootDir).text.trim()
  gitTag = 'git describe --tags'.execute([], project.rootDir).text.trim()
  gitCommitCount = 100 + Integer.parseInt('git rev-list --count HEAD'.execute([], project.rootDir).text.trim()+"0")
}
